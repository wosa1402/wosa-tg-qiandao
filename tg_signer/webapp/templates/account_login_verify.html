{% extends "base.html" %}
{% set show_nav = true %}
{% set title = "éªŒè¯ç  - TG Signer Web" %}

{% block content %}
  <div class="card" style="max-width: 720px;">
    <div class="card-header">
      <div class="card-title">ğŸ” éªŒè¯ç ï¼š<code>{{ account_name }}</code></div>
      <a class="btn btn-secondary btn-sm" href="/accounts/{{ account_name }}/login">è¿”å›</a>
    </div>
    <div class="card-body">
      <p class="text-secondary mb-md">è¯·è¾“å…¥ä½ æ”¶åˆ°çš„éªŒè¯ç ã€‚</p>
      {% if error %}
        <div class="alert alert-danger">{{ error }}</div>
      {% endif %}
      {% if notice %}
        <div class="alert alert-success">{{ notice }}</div>
      {% endif %}

      <form method="post" action="/accounts/{{ account_name }}/login/verify">
        <input type="hidden" name="csrf_token" value="{{ csrf_token }}" />
        <input type="hidden" name="login_id" value="{{ login_id }}" />
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">éªŒè¯ç </label>
            <input class="form-input" type="text" name="code" placeholder="12345" required />
          </div>
        </div>
        <div class="btn-group">
          <button class="btn btn-primary" type="submit">éªŒè¯å¹¶ç™»å½•</button>
        </div>
      </form>

      <div style="height: var(--spacing-md);"></div>

      <form method="post" action="/accounts/{{ account_name }}/login/resend">
        <input type="hidden" name="csrf_token" value="{{ csrf_token }}" />
        <input type="hidden" name="login_id" value="{{ login_id }}" />
        <button class="btn btn-secondary" type="submit">é‡æ–°å‘é€éªŒè¯ç </button>
      </form>
    </div>
  </div>
{% endblock %}
